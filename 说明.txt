此节点系在动画小子大佬painterI2V基础上修改，原版节点名改成nodes动画小子原版.py，可随时恢复。修改版同时注册了原版节点和新节点，为了实现新节点功能，对原版节点注册方式进行了改变，除此之外完全保留了原版节点的功能。
在修改测试过程中，工作流里放了一堆阶段性的参数设置说明，现在已经记不得是哪个阶段时留下的，有兴趣可以简单看看，也留下来一些提示词，供参考。
工作流里的参数是我最后一次生成的时候的参数，比较保守，同时采取了高噪1步，低噪4步的设置，但B站视频里大多数是采取的2步高噪、3步低噪的保守设置。

https://www.bilibili.com/video/BV167C2BzEdj/?share_source=copy_web&vd_source=031840a2cd8ca1548c52c59a0a9fb6a5
通过网盘分享的文件：节点链接: https://pan.baidu.com/s/1IAYTInAdKS3vsqA1_G-bDA 提取码: a1b2

1、manual_scene（手动场景选择）作用：绕开 prompt 依赖，针对不同场景预设噪声特性：动态主体（人物 / 动物）”：用更多低频噪声（减少细节抖动，保持主体稳定）；“自然细节（风景 / 纹理）”：用更多高频噪声（增强粒子、水流等细节动态）。代码中已通过SCENE_CATEGORIES字典定义不同场景的噪声比例，手动选择时直接调用对应配置。

2、noise_target（噪声作用范围）作用：控制噪声在视频帧中的作用区域，配合噪声强度参数使用，实现 “精准加噪”— 既保留核心主体（如人物）清晰度，又为目标区域（如环境、动态部分）增加细节丰富度
参数范围：["全局（含环境）", "仅动作动态", "仅环境细节"]，该参数无 “关闭” 数值，当 noise_strength（噪声强度）设为 0.0 时，无论本参数选何值，噪声均不生效
建议参数：人物视频选 “仅环境细节”；自然景观（瀑布、云雾）选 “全局（含环境）”；城市建筑 / 静态主体选 “仅动作动态”；无明确主体的抽象场景选 “全局（含环境）”

3、noise_strength（噪声强度）作用：向指定区域注入高低频噪声，为视频增加细节层次（如皮肤纹理、环境纹理），避免画面 “发灰发平”，同时可通过场景分类适配噪声类型
参数范围：0.0-0.5（步长 0.01）：设为 0.0 时，噪声注入功能完全关闭，无额外噪声添加
建议参数：人物视频设 0.05-0.1；自然景观设 0.1-0.15；抽象艺术场景设 0.2-0.25；低细节需求（如卡通风格）设 0.0-0.03

4、noise_decay_rate（噪声衰减率）作用：控制噪声强度随视频帧推进的衰减速度，让起始帧噪声细节丰富，后续帧逐渐弱化，避免全程高噪声导致画面杂乱
参数范围：0.5-1.0（步长 0.05）：设为 1.0 时，噪声强度不衰减，所有帧保持一致噪声水平（等同于关闭 “衰减功能”）
建议参数：常规视频设 0.8；长视频（length≥120）设 0.7-0.75；短视频（length≤40）设 0.9-1.0

5、motion_threshold（运动阈值）作用：设定运动强度的 “判定标准”，高于阈值的区域被识别为 “动态区域”，用于精准匹配运动增强、动态模糊、分区域噪声等功能参数范围：0.1-1.0（步长 0.05）：无绝对 “关闭” 值，设为 1.0 时仅极端运动区域被识别，设为 0.1 时大部分区域被判定为动态；若需关闭关联功能，需配合其他参数（如 action_amplitude_boost=1.0）
建议参数：主体清晰、背景动态场景设 0.3-0.4；全场景动态（如舞蹈）设 0.2-0.3；静态主体场景设 0.4-0.5

6、action_amplitude_boost（动作区域增强系数）作用：在运动掩码识别的 “高动态区域”（如挥手、飘动的衣物）额外提升运动幅度，让动作更自然立体，同时不影响静态区域（如背景建筑）
参数范围：1.0-2.0（步长 0.1）设为 1.0 时，该增强功能关闭，运动幅度仅由 motion_amplitude 控制
建议参数：人物特写 / 需保留主体形态场景设 1.0-1.1；动态场景（舞蹈、奔跑）设 1.2-1.3；极端动态需求（如粒子效果）设 1.4-1.5（需配合安全熔断逻辑）

7、time_smooth_strength（时间平滑强度）作用：削弱相邻帧之间的突变，让视频画面过渡更连贯，避免出现 “跳帧”“抖动” 问题，尤其优化慢动作场景的流畅度
参数范围：0.0-0.5（步长 0.05），设为 0.0 时，时间平滑功能完全关闭，帧间过渡依赖原始运动计算
建议参数：常规视频设 0.05-0.1；慢动作视频（length≥81）设 0.1-0.15；快速切换场景（如转场）设 0.0-0.05

8、motion_blur_strength（动态模糊强度）作用：在高运动区域模拟真实相机的 “动态模糊” 效果，增强视频的运动纵深感，减少动态区域的 “像素割裂感”
参数范围：0.0-0.3（步长 0.05）：设为 0.0 时，动态模糊功能关闭，所有区域均无模糊效果
建议参数：人物运动 / 交通工具场景设 0.05-0.1；快速运动（如飞鸟、水流）设 0.1-0.15；静态主体 + 动态背景场景设 0.05；追求清晰帧画面场景设 0.0

9、keyframe_frame_idx（关键帧位置）作用：指定 keyframe_image（关键帧图像）在视频序列中的插入位置，实现 “起始帧→关键帧” 的平滑过渡，精准控制视频动作走向（如人物从站立到挥手的转折帧）
参数范围：10-4096（步长 1）：不接入 keyframe_image 时，本参数无效；若接入关键帧但需关闭功能，可设为超出 length（视频帧数）的数值（如 length=81 时设为 82）
建议参数：短视频（length=81）设 40（中间位置）；长视频（length=160）设 80；动作转折场景设动作发生前 10-15 帧（如第 30 帧动作，设为 20）

